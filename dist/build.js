!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=7)}([function(e,t){e.exports=jQuery},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var s=(a=n,o=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(l," */")),r=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot).concat(e," */")}));return[i].concat(r).concat([s]).join("\n")}var a,o,l;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(i,"}"):i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var r=this[s][0];null!=r&&(n[r]=!0)}for(var a=0;a<e.length;a++){var o=e[a];null!=o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="(".concat(o[2],") and (").concat(i,")")),t.push(o))}},t}},function(e,t,i){"use strict";var n,s={},r=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},a=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}();function o(e,t){for(var i=[],n={},s=0;s<e.length;s++){var r=e[s],a=t.base?r[0]+t.base:r[0],o={css:r[1],media:r[2],sourceMap:r[3]};n[a]?n[a].parts.push(o):i.push(n[a]={id:a,parts:[o]})}return i}function l(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=s[n.id],a=0;if(r){for(r.refs++;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(b(n.parts[a],t))}else{for(var o=[];a<n.parts.length;a++)o.push(b(n.parts[a],t));s[n.id]={id:n.id,refs:1,parts:o}}}}function d(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var n=i.nc;n&&(e.attributes.nonce=n)}if(Object.keys(e.attributes).forEach((function(i){t.setAttribute(i,e.attributes[i])})),"function"==typeof e.insert)e.insert(t);else{var s=a(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var c,h=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=h(t,s);else{var r=document.createTextNode(s),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function p(e,t,i){var n=i.css,s=i.media,r=i.sourceMap;if(s&&e.setAttribute("media",s),r&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var A=null,f=0;function b(e,t){var i,n,s;if(t.singleton){var r=f++;i=A||(A=d(t)),n=u.bind(null,i,r,!1),s=u.bind(null,i,r,!0)}else i=d(t),n=p.bind(null,i,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r());var i=o(e,t);return l(i,t),function(e){for(var n=[],r=0;r<i.length;r++){var a=i[r],d=s[a.id];d&&(d.refs--,n.push(d))}e&&l(o(e,t),t);for(var c=0;c<n.length;c++){var h=n[c];if(0===h.refs){for(var u=0;u<h.parts.length;u++)h.parts[u]();delete s[h.id]}}}}},function(e,t,i){var n=i(4);"string"==typeof n&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};i(2)(n,s);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(1)(!0)).push([e.i,'.y-slider__handle{display:flex;position:absolute;flex-direction:column;align-items:center;justify-content:center;user-select:none}.y-slider__handle .y-slider__point{width:12px;height:12px;border-radius:50%;background:#6200ee;color:#fff;font-family:Lato;font-size:12px;line-height:12px;text-align:center;cursor:pointer}.y-slider__handle .y-slider__point-active{box-shadow:0px 0px 0px 10px rgba(98,0,238,.2)}.y-slider__handle .y-slider__bubble{width:30px;height:30px;border-radius:50%;background:#6200ee;color:#fff;font-family:Lato;font-size:12px;line-height:30px;text-align:center;display:flex;position:absolute;align-items:flex-end;justify-content:center;width:fit-content;min-width:30px;padding:0 2px;transform:scale(0) translateY(0);transition:transform .2s ease-in-out}.y-slider__handle .y-slider__bubble::before{content:"";position:absolute;z-index:-1;width:24px;height:24px;transform:translateY(1.5px) rotate(45deg);border-radius:0 9px;background:#6200ee}.y-slider__handle .y-slider__bubble-active{transform:scale(1) translateY(-35px)}',"",{version:3,sources:["D:/Projects/Slider/src/View/Handle/Handle.scss"],names:[],mappings:"AAaA,kBACE,YAAA,CACA,iBAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,gBAAA,CACA,mCAlBA,UAmBgB,CAlBhB,WAkBgB,CAjBhB,iBAAA,CACA,kBALO,CAMP,UAAA,CACA,gBAAA,CACA,cAAA,CACA,gBAYgB,CAXhB,iBAAA,CAYE,cAAA,CACA,0CACE,6CAAA,CAGJ,oCAzBA,UA0BgB,CAzBhB,WAyBgB,CAxBhB,iBAAA,CACA,kBALO,CAMP,UAAA,CACA,gBAAA,CACA,cAAA,CACA,gBAmBgB,CAlBhB,iBAAA,CAmBE,YAAA,CACA,iBAAA,CACA,oBAAA,CACA,sBAAA,CACA,iBAAA,CACA,cAAA,CACA,aAAA,CACA,gCAAA,CACA,oCAAA,CACA,4CACE,UAAA,CACA,iBAAA,CACA,UAAA,CACA,UAAA,CACA,WAAA,CACA,yCAAA,CACA,mBAAA,CACA,kBA9CG,CAgDL,2CACE,oCAAA",file:"Handle.scss",sourcesContent:['$purple: #6200ee;\r\n@mixin ball($size) {\r\n  width: $size;\r\n  height: $size;\r\n  border-radius: 50%;\r\n  background: $purple;\r\n  color: white;\r\n  font-family: Lato;\r\n  font-size: 12px;\r\n  line-height: $size;\r\n  text-align: center;\r\n}\r\n\r\n.y-slider__handle {\r\n  display: flex;\r\n  position: absolute;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  user-select: none;\r\n  .y-slider__point {\r\n    @include ball(12px);\r\n    cursor: pointer;\r\n    &-active {\r\n      box-shadow: 0px 0px 0px 10px transparentize($purple, 0.8);\r\n    }\r\n  }\r\n  .y-slider__bubble {\r\n    @include ball(30px);\r\n    display: flex;\r\n    position: absolute;\r\n    align-items: flex-end;\r\n    justify-content: center;\r\n    width: fit-content;\r\n    min-width: 30px;\r\n    padding: 0 2px;\r\n    transform: scale(0) translateY(0);\r\n    transition: transform 0.2s ease-in-out;\r\n    &::before {\r\n      content: "";\r\n      position: absolute;\r\n      z-index: -1;\r\n      width: 24px;\r\n      height: 24px;\r\n      transform: translateY(1.5px) rotate(45deg);\r\n      border-radius: 0 9px;\r\n      background: $purple;\r\n    }\r\n    &-active {\r\n      transform: scale(1) translateY(-35px);\r\n    }\r\n  }\r\n}\r\n']}])},function(e,t,i){var n=i(6);"string"==typeof n&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};i(2)(n,s);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(1)(!0)).push([e.i,".y-slider{display:flex;align-items:center;width:100%}.y-slider *{box-sizing:border-box}.y-slider .y-slider__base{display:flex;align-items:center;position:relative;width:100%;height:2px;background:rgba(98,0,238,.24)}.y-slider .y-slider__base .y-slider__handles,.y-slider .y-slider__base .y-slider__connects{display:flex;align-items:center;position:absolute;min-width:100%}.y-slider__horizontal{height:30px}","",{version:3,sources:["D:/Projects/Slider/src/View/Slider/Slider.scss"],names:[],mappings:"AAKA,UAHE,YAAA,CACA,kBAAA,CAIA,UAAA,CACA,YACE,qBAAA,CAEF,0BATA,YAAA,CACA,kBAAA,CAUE,iBAAA,CACA,UAAA,CACA,UAAA,CACA,6BAAA,CACA,2FAfF,YAAA,CACA,kBAAA,CAiBI,iBAAA,CACA,cAAA,CAGJ,sBACE,WAAA",file:"Slider.scss",sourcesContent:["$purple: #6200ee;\r\n@mixin flexcenter() {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.y-slider {\r\n  @include flexcenter();\r\n  width: 100%;\r\n  * {\r\n    box-sizing: border-box;\r\n  }\r\n  .y-slider__base {\r\n    @include flexcenter();\r\n    position: relative;\r\n    width: 100%;\r\n    height: 2px;\r\n    background: transparentize($purple, 0.76);\r\n    .y-slider__handles,\r\n    .y-slider__connects {\r\n      @include flexcenter();\r\n      position: absolute;\r\n      min-width: 100%;\r\n    }\r\n  }\r\n  &__horizontal {\r\n    height: 30px;\r\n  }\r\n}\r\n"]}])},function(e,t,i){"use strict";i.r(t);var n=i(0),s=i.n(n);const r={values:[0,30,100],range:[0,100],connects:!1,step:1,orientation:"horizontal",displayBubbles:!1,displaySteps:!1};var a=class{constructor(){var e,t,i;i={},(t="_observers")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,this._observers={},this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.emit=this.emit.bind(this)}getObservers(e){return e?this._observers[e]:this._observers}subscribe(e,t){this._observers[e]||(this._observers[e]=[]),this._observers[e].push(t)}unsubscribe(e,t){this._observers[e]=this._observers[e].filter(e=>e!==t)}emit(e,t){this._observers.hasOwnProperty(e)&&this._observers[e].forEach(e=>e(t))}};function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends Error{constructor(e,...t){const i=l.getError(""+t.pop()),n=t.map(e=>l.getError(e));let s;super(s=`Error in key '${e}': value must be ${(t.length?n.join(", ")+" or ":"")+i}`),o(this,"_error",void 0),o(this,"_types",void 0),this._error=s,this._types=t,this.getError=this.getError.bind(this),this.getTypes=this.getTypes.bind(this),Object.setPrototypeOf(this,l.prototype)}static getError(e){const t={common:"a valid type",nonConfig:"any possible type, but key isn't found in config or invalid",number:"a number",string:"a string",boolean:"a boolean",arrayOfNumbers:"an array of numbers",arrayOfStrings:"an array of strings",arrayOfBooleans:"an array of booleans",orientation:'"horizontal" or "vertical"',range:"in range",positive:"positive"};if(t[e])return t[e]}toString(){return this.getError()}getError(){return this._error}getTypes(){return this._types}show(){console.error(this.getError())}}var d=l;function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var h=class extends a{constructor(e){super(),c(this,"state",void 0),c(this,"defaults",{...r}),e={...this.defaults,...e},this.validateOptions=this.validateOptions.bind(this),this.checkOptionType=this.checkOptionType.bind(this),this.setState=this.setState.bind(this),this.setValue=this.setValue.bind(this),this.setState(e)}checkOptionType(e,t){let i=[];switch(e){case"values":i=["number","arrayOfNumbers","string"];break;case"range":i=["arrayOfStrings","arrayOfNumbers"];break;case"connects":i=["boolean","arrayOfBooleans"];break;case"step":i=["number"];break;case"orientation":i=["orientation"];break;case"displaySteps":case"displayBubbles":i=["boolean"];break;default:i=[]}return this._isValidType(t,...i)?t:new d(e,...i)}validateOptions(e){let t=Object.keys(e);t=t.filter(t=>this.checkOptionType(t,e[t]));let i={...this.state},n=["range","step","values","connects","orientation","displaySteps","displayBubbles"].filter(e=>-1!==t.indexOf(e));try{return n.forEach(t=>{switch(t){case"range":{let t=e.range,n=this._getValidatedRange(t);if(n instanceof d)throw n;i.range=n;break}case"step":{let t=e.step,n=i.range,s=this._getValidatedStep(t,n);if(s instanceof d)throw s;i.step=s;break}case"values":{let t=e.values,n=i.range,s=i.step,r=this._getValidatedSliderValue(t,n,s);if(r instanceof d)throw r;i.values=r;break}case"orientation":{let t=e.orientation;i.orientation=t;break}case"displaySteps":{let t=e.displaySteps;i.displaySteps=t;break}case"displayBubbles":{let t=e.displayBubbles;i.displayBubbles=t;break}}}),{...t.reduce((e,t)=>e={...e,[t]:i[t]},{})}}catch(e){return e}}setValue(e){let t={...this.state},i=t.range,n=t.step,s=this._getValidatedSliderValue(e,i,n);s instanceof d?s.show():(this.state.values=s,this.emit("valueUpdated",{...this.state}))}setState(e){let t=this.validateOptions(e);return t instanceof d?t.show():(this.state={...this.state,...t},this.emit("stateUpdated",{...this.state})),!1}getState(){return{...this.state}}_isValidType(e,...t){let i=[];return t.forEach(t=>{switch(t){case"number":case"string":case"boolean":i.push(typeof e===t);break;case"arrayOfNumbers":case"arrayOfStrings":case"arrayOfBooleans":i.push(Array.isArray(e)&&!!e.filter(e=>typeof e===t.slice(7,-1).toLowerCase()));break;case"orientation":i.push("horizontal"===e||"vertical"===e);default:i.push(!1)}}),-1!==i.indexOf(!0)}_getValidatedRange(e){if(2===e.length&&"number"==typeof e[0]){let t=Number(e[1])-Number(e[0]);if(t<0)return[e[0],e[1]]=[e[1],e[0]],e;if(t>0)return e}else if(e.length>2&&"number"==typeof e[0]||e.length>1&&"string"==typeof e[0])return e;return new d("range","positive")}_getValidatedStep(e,t){if(2===t.length&&"number"==typeof t[0]){let i=Number(t[1])-Number(t[0]);return e>i?i:e>0?e:new d("step","positive")}return new d("step","common")}_getValidatedSliderValue(e,t,i=1){const n=(e,t,i=1)=>{let n,s=e-t[0];if(s%i==0||s===t[1])n=e;else{const e=s%i,t=Math.min(e,i-e);t===e?s-=t:s+=t,n=s}return n<t[0]&&(n=t[0]),n>t[1]&&(n=t[1]),n};if("number"==typeof e&&t.length>2||"string"==typeof e&&t.length>1){let i=!1;return t.forEach(t=>{e===t&&(i=!0)}),i?e:t[0]}if("number"==typeof e&&2===t.length)return n(e,t,i);if(Array.isArray(e)&&2===t.length){return e.map(e=>n(e,t,i))}return new d("values","range")}};function u(e="div",t){const i=document.createElement(e);return Object.keys(t).forEach(e=>{i.setAttribute(e,t[e])}),i}function p(e){return Array.isArray(e)?e:[e]}function A(e,t,i){return e>t?e<i?e:i:t}i(3);function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var b=class extends a{constructor(){super(),f(this,"handle",void 0),f(this,"point",void 0),f(this,"bubble",void 0),f(this,"value",void 0),f(this,"position",void 0),f(this,"distance",void 0),f(this,"shift",void 0),f(this,"active",void 0),f(this,"onHandleDrag",e=>{this.shift=e.clientX-this.handle.getBoundingClientRect().left,e.preventDefault(),this.emit("handleDrag",e),this.setActive()}),this.handle=u("div",{class:"y-slider__handle"}),this.point=u("div",{class:"y-slider__point"}),this.bubble=u("div",{class:"y-slider__bubble"}),this.handle.appendChild(this.point),this.handle.appendChild(this.bubble),this.handle.addEventListener("mousedown",this.onHandleDrag),this.active=!1}draw(){this.handle.style.transform=`translateX(${this.position}px)`,this.bubble.innerText=void 0!==this.value?this.value.toString():""}get isActive(){return this.active}setActive(){this.active=!0,this.bubble.classList.add("y-slider__bubble-active")}setInactive(){this.active=!1,this.bubble.classList.remove("y-slider__bubble-active")}};i(5);function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var g=class extends a{constructor(e){super(),v(this,"root",void 0),v(this,"slider",void 0),v(this,"base",void 0),v(this,"handles",void 0),v(this,"connects",void 0),v(this,"handlesList",void 0),v(this,"connectsList",void 0),v(this,"options",void 0),v(this,"orientation",void 0),v(this,"onHandleDrag",e=>{this.emit("handleDrag",e),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove)}),v(this,"onMouseMove",e=>{this.handlesList.filter(e=>e.isActive).forEach(t=>t.distance=e.clientX-t.shift),this.emit("handleMove")}),v(this,"onMouseUp",e=>{document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),this.handlesList.forEach(e=>e.setInactive())}),v(this,"onResize",e=>{this.emit("windowResized")}),this.root=e[0],this.handlesList=[],this.connectsList=[],this.onResize=this.onResize.bind(this),window.onresize=this.onResize,this.orientation="horizontal",this.init()}init(){this.drawSlider(),this.drawHandles(this.handlesList.length),this.drawConnects()}drawSlider(e=this.orientation){this.orientation=e,this.slider=u("div",{class:`y-slider y-slider__${e}`}),this.base=u("div",{class:"y-slider__base"}),this.connects=u("div",{class:"y-slider__connects"}),this.handles=u("div",{class:"y-slider__handles"}),this.root.innerHTML="",this.base.appendChild(this.connects),this.base.appendChild(this.handles),this.slider.appendChild(this.base),this.root.appendChild(this.slider)}drawHandles(e){this.handles.innerHTML="",this.handlesList=[];for(let t=0;t<e;t++){let e=new b;e.subscribe("handleDrag",this.onHandleDrag),this.handlesList.push(e),this.handles.appendChild(e.handle)}this.setHandles()}setHandles(){this.handlesList.forEach((e,t)=>{e.draw()})}drawConnects(){}};function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class C{constructor(e,t){y(this,"model",void 0),y(this,"view",void 0),y(this,"calculate",()=>{let e=[];const{width:t,left:i}=this.view.slider.getBoundingClientRect(),n=this.view.handlesList,{range:s,step:r}=this.model.getState();e=n.map((e,r)=>A((e.isActive?A(e.distance,n[r>0?r-1:0].distance,n[r<n.length-1?r+1:n.length-1].distance):e.distance)-i+6,0,t)/t*(s[1]-s[0])+s[0]).map((e,t,i)=>(n[t].isActive&&(t>0&&e<i[t-1]+(r||0)&&(e=i[t-1]+(r||0)),t<n.length&&e>i[t+1]-(r||0)&&(e=i[t+1]-(r||0))),e)),this.model.setState({values:e}),this.updateView(),document.body.style.cursor="pointer"}),this.model=e,this.view=t,this.updateView=this.updateView.bind(this),this.view.drawHandles(p(e.getState().values).length),this.view.subscribe("handleMove",this.calculate),this.view.subscribe("windowResized",this.updateView),this.updateView()}getView(){return{handles:this.view.handlesList}}updateView(){const{width:e,left:t}=this.view.slider.getBoundingClientRect(),i=this.view.handlesList,{values:n,range:s}=this.model.getState();i.forEach((i,r)=>{i.position=(p(n)[r]-s[0])*e/(s[1]-s[0])-6,i.distance=i.position+t-3,i.value=Array.isArray(n)?n[r]:n,i.draw()})}}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class w{constructor(e,t){m(this,"model",void 0),m(this,"view",void 0),m(this,"presenter",void 0),this.model=new h(e),this.view=new g(t),this.presenter=new C(this.model,this.view)}}s.a.fn.YSlider=Object.assign((function(e){e=s.a.extend({},s.a.fn.YSlider.options,e);new w(e,this);return this}),{options:{...r}})}]);